:root {
    --primary: #1a73e8;
    --primary-dark: #0d47a1;
    --secondary: #4285f4;
    --accent: #2962ff;
    --text: #202124;
    --text-light: #5f6368;
    --bg: #f8f9fa;
    --card-bg: #ffffff;
    --border: #dadce0;
    --success: #0f9d58;
    --warning: #f4b400;
    --danger: #db4437;
    --info: #4285f4;
    --shadow: 0 2px 10px rgba(0,0,0,0.1);
    --transition: all 0.3s ease;
    --denuncias-bg: none;
}

/* Tema Escuro */
[data-theme="dark"] {
    --primary: #2962ff;
    --primary-dark: #0039cb;
    --secondary: #448aff;
    --accent: #2979ff;
    --text: #e8eaed;
    --text-light: #9aa0a6;
    --bg: #202124;
    --card-bg: #303134;
    --border: #5f6368;
    --shadow: 0 2px 10px rgba(0,0,0,0.3);
}

/* Tema Verde */
[data-theme="green"] {
    --primary: #0f9d58;
    --primary-dark: #0b8043;
    --secondary: #4285f4;
    --accent: #00c853;
    --text: #202124;
    --text-light: #5f6368;
    --bg: #e8f5e9;
    --card-bg: #ffffff;
    --border: #c8e6c9;
}

/* Tema Vermelho/Preto */
[data-theme="red-black"] {
    --primary: #b71c1c;
    --primary-dark: #7f0000;
    --secondary: #f44336;
    --accent: #ff5252;
    --text: #f5f5f5;
    --text-light: #e0e0e0;
    --bg: #121212;
    --card-bg: #1e1e1e;
    --border: #424242;
    --shadow: 0 2px 10px rgba(0,0,0,0.5);
}

/* Novos temas adicionados */
[data-theme="neon-azul"] {
    --primary: #00d4ff;
    --primary-dark: #00b7e6;
    --text: #e9faff;
    --text-light: #bfeefc;
    --bg: #041923;
    --card-bg: #052733;
    --border: #064351;
}

[data-theme="dourado-preto"] {
    --primary: #d4af37;
    --primary-dark: #a67c1a;
    --text: #fff9ec;
    --text-light: #f0e6c8;
    --bg: #070707;
    --card-bg: #111111;
    --border: #40331a;
}

[data-theme="roxo-neon"] {
    --primary: #9b59ff;
    --primary-dark: #7a3df2;
    --text: #f6efff;
    --text-light: #dfd3ff;
    --bg: #0b031a;
    --card-bg: #120723;
    --border: #4b2b67;
}

[data-theme="roxo"] {
    --primary: #6a1b9a;
    --primary-dark: #4a0072;
    --text: #fff;
    --text-light: #d2c0e8;
    --bg: #f6f0fa;
    --card-bg: #ffffff;
    --border: #e4d7f0;
}

[data-theme="amarelo"] {
    --primary: #f4c430;
    --primary-dark: #caa10a;
    --text: #2b2b2b;
    --text-light: #6b5b1d;
    --bg: #fffbea;
    --card-bg: #fff;
    --border: #ffeaa7;
}

[data-theme="verde-agua"] {
    --primary: #2ad6c6;
    --primary-dark: #1aa79a;
    --text: #083033;
    --text-light: #3a7f79;
    --bg: #effffb;
    --card-bg: #ffffff;
    --border: #cff7f2;
}

[data-theme="preto-branco"] {
    --primary: #000000;
    --primary-dark: #222222;
    --text: #ffffff;
    --text-light: #cfcfcf;
    --bg: #0f0f0f;
    --card-bg: #1a1a1a;
    --border: #2a2a2a;
}

* { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; transition: var(--transition); }
body {
    background-color: var(--bg);
    color: var(--text);
    min-height: 100vh;
    display:flex; flex-direction:column;
}

/* Toast */
.toast-container { position: fixed; top: 20px; right: 20px; z-index:9999; display:flex; flex-direction:column; gap:10px; }
.toast { padding:12px 20px; border-radius:6px; color:white; box-shadow:var(--shadow); display:flex; align-items:center; gap:10px; animation: slideInRight 0.3s ease forwards; }
.toast.success { background-color:var(--success); } .toast.error{ background-color:var(--danger);} .toast.info{ background-color:var(--info);}
@keyframes slideInRight { from {transform: translateX(100%);opacity:0;} to {transform: translateX(0);opacity:1;} }

/* login */
.login-container { display:flex; justify-content:center; align-items:center; min-height:100vh; background: linear-gradient(135deg,var(--primary) 0%, var(--primary-dark) 100%); padding:20px;}
.login-box { background-color:var(--card-bg); border-radius:10px; box-shadow:var(--shadow); width:100%; max-width:420px; padding:30px; text-align:center;}
.login-logo{ margin-bottom:20px; color:var(--primary); font-size:2.5rem;}
.login-title{ font-size:1.8rem; margin-bottom:10px; color:var(--text);}
.input-group{ margin-bottom:20px; text-align:left;}
.input-group label{ display:block; margin-bottom:8px; color:var(--text); font-weight:500;}
.input-group input{ width:100%; padding:12px 15px; border:1px solid var(--border); border-radius:6px; background-color:var(--card-bg); color:var(--text); font-size:1rem;}
.btn{ display:inline-block; padding:12px 24px; background-color:var(--primary); color:white; border:none; border-radius:6px; cursor:pointer; font-size:1rem; font-weight:500;}
.btn:hover{ background-color:var(--primary-dark); transform: translateY(-2px); }
.btn-block{ width:100%; } .btn-sm{ padding:8px 12px; font-size:0.9rem;}
.alert { padding:12px 16px; border-radius:6px; margin-bottom:20px; display:none;}
.alert-error { background-color:#ffebee; color:#c62828; border:1px solid #ef9a9a; }

/* app */
.app-container{ display:none; flex-direction:column; min-height:100vh; }
.header{ background-color:var(--card-bg); box-shadow:var(--shadow); padding:15px 30px; display:flex; justify-content:space-between; align-items:center; position:sticky; top:0; z-index:100; }
.logo{ font-size:1.8rem; color:var(--primary); margin-right:15px; }
.app-name{ font-size:1.4rem; font-weight:600; color:var(--text);}
.header-right{ display:flex; align-items:center; gap:10px; }
.nav{ background-color:var(--card-bg); padding:0 30px; box-shadow:var(--shadow); }
.nav-list{ display:flex; list-style:none; overflow-x:auto; }
/* .nav-item original style - REMOVED/ADJUSTED FOR NEW BUTTON STYLE */
.nav-item{ 
    padding:15px 20px; /* Mantido para área de clique/margin da LI */
    cursor:pointer; 
    /* border-bottom:3px solid transparent; <- Removido */
    font-weight:500; 
    white-space:nowrap;
    display: flex; 
    align-items: center; 
    justify-content: center;
    position: relative;
}
.nav-item.active {
    /* Ajustes para o estado ativo no novo estilo */
    color: var(--primary); /* Define a cor do texto padrão */
    /* border-bottom-color:var(--primary); <- Removido */
}

/* NOVO ESTILO DE BOTÃO DE NAVEGAÇÃO */
/* === removing default button style ===*/
.nav-button {
    margin: 0;
    height: 100%; /* Ajuste para preencher a LI */
    background: transparent;
    padding: 0 10px; /* Padding interno do botão */
    border: none;
    cursor: pointer;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* button styling */
.nav-button {
    /* Ajustado para ser menor e usar variáveis de cor do tema */
    --border-right: 3px; /* Borda menor */
    --text-stroke-color: var(--text-light); /* Cor do traço baseada no tema */
    --animation-color: var(--primary); /* Cor da animação baseada no tema */
    --fs-size: 0.9em; /* Tamanho da fonte menor */
    letter-spacing: 1px;
    text-decoration: none;
    font-size: var(--fs-size);
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    position: relative;
    text-transform: uppercase;
    color: transparent;
    font-weight: 500; /* Mantém o peso da fonte original do nav-item */
    -webkit-text-stroke: 1px var(--text-stroke-color);
}
/* Altera o traço no estado ativo/selecionado */
.nav-item.active .nav-button {
    -webkit-text-stroke: 1px var(--animation-color);
}

/* this is the text, when you hover on button */
.hover-text {
    position: absolute;
    box-sizing: border-box;
    content: attr(data-text);
    color: var(--animation-color);
    width: 0%;
    inset: 0;
    border-right: var(--border-right) solid var(--animation-color);
    overflow: hidden;
    transition: 0.5s;
    -webkit-text-stroke: 1px var(--animation-color);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 10px;
}
/* hover */
.nav-button:hover .hover-text,
.nav-item.active .hover-text { /* Faz o texto preencher no estado ativo também */
    width: 100%;
    filter: drop-shadow(0 0 10px var(--animation-color)); /* Sombra mais sutil */
}
/* FIM NOVO ESTILO */

.main-content{ flex:1; padding:30px; }
.tab-content{ display:none; } .tab-content.active{ display:block; }

#denuncias { background: var(--denuncias-bg); background-size: cover; background-position:center; }

.dashboard-grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(300px,1fr)); gap:20px; margin-bottom:30px;}
.card{ background-color:var(--card-bg); border-radius:10px; box-shadow:var(--shadow); padding:20px; }
.card-title{ font-size:1.2rem; margin-bottom:15px; color:var(--text); font-weight:600; }
.stat-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:15px; }
.stat-item{ text-align:center; padding:15px; border-radius:8px; background-color: rgba(26,115,232,0.06); }
.stat-value{ font-size:2rem; font-weight:700; color:var(--primary); margin-bottom:5px; }
.stat-label{ color:var(--text-light); font-size:0.9rem; }

.quick-actions{ display:grid; grid-template-columns: repeat(auto-fill,minmax(200px,1fr)); gap:15px; margin-top:20px; }
.action-btn{ display:flex; flex-direction:column; align-items:center; justify-content:center; padding:20px; background-color:var(--card-bg); border-radius:8px; box-shadow:var(--shadow); cursor:pointer; transition:var(--transition); }
.action-btn:hover{ transform:translateY(-5px); box-shadow:0 5px 15px rgba(0,0,0,0.1); }
.action-icon{ font-size:2rem; color:var(--primary); margin-bottom:10px; }
.action-text{ font-weight:500; color:var(--text); }

.history-list{ margin-top:20px; } .history-item{ padding:15px; border-bottom:1px solid var(--border); display:flex; align-items:center; } .history-item:last-child{ border-bottom:none; }
.history-icon{ margin-right:15px; color:var(--primary);} .history-content{ flex:1;} .history-title{ font-weight:500; margin-bottom:5px; } .history-time{ font-size:0.8rem; color:var(--text-light); }

/* board */
.board-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
.board-actions{ display:flex; gap:10px; flex-wrap:wrap;}
.board{ display:flex; overflow-x:auto; gap:20px; padding:10px 0; min-height:280px; }
.board-column{
    min-width:300px;
    background-color:var(--card-bg);
    border-radius:8px;
    box-shadow:var(--shadow);
    padding:15px;
    position:relative;
    /* EFEITO SUAVE AO REORDENAR */
    transition: transform 0.4s ease;
}
/* EFEITO VISUAL AO ARRASTAR */
.board-column.dragging {
    opacity: 0.9;
    transform: scale(1.02);
    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
}
.column-header{ padding-bottom:15px; margin-bottom:15px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; }
.column-title{ font-weight:600; color:var(--text); }
.column-count{ background-color:var(--primary); color:white; border-radius:50%; width:25px; height:25px; display:flex; align-items:center; justify-content:center; font-size:0.8rem; }

.column-cards{ min-height:100px; }
.card-item{ background-color:var(--bg); border-radius:8px; padding:15px; margin-bottom:15px; box-shadow:var(--shadow); cursor:grab; position:relative; }
.card-actions{ position:absolute; top:10px; right:10px; display:flex; gap:5px; }
.card-action-btn{ background:rgba(255,255,255,0.8); border:none; border-radius:4px; width:25px; height:25px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:0.8rem; color:var(--text); }
.card-tags{ display:flex; gap:5px; margin-bottom:10px; flex-wrap:wrap; }
.card-tag{ padding:3px 8px; border-radius:4px; font-size:0.7rem; font-weight:500; color:#fff; }

.card-content{ margin-bottom:10px; }
.card-title{ font-weight:600; margin-bottom:5px; font-size:1rem; }
.card-desc{ font-size:0.9rem; color:var(--text-light); display:-webkit-box; -webkit-line-clamp:3; -webkit-box-orient:vertical; overflow:hidden; }
line-clamp: 0.9rem; /* PATCH compatibilidade */
.card-footer{ display:flex; justify-content:space-between; align-items:center; font-size:0.8rem; color:var(--text-light); }
.card-timer{ display:flex; align-items:center; gap:5px; font-weight:600; color:var(--primary); }

/* anexos */
.anexos-preview{ margin-top:15px; display:flex; flex-wrap:wrap; gap:10px; }
.anexo-item{ position:relative; width:80px; height:80px; border-radius:6px; overflow:hidden; border:1px solid var(--border); background:#fff; display:flex; align-items:center; justify-content:center; }
.anexo-item img{ width:100%; height:100%; object-fit:cover; cursor:pointer; }
.anexo-item .file-icon{ display:flex; align-items:center; justify-content:center; width:100%; height:100%; background-color:var(--bg); font-size:24px; cursor:pointer;}
.anexo-remove{ position:absolute; top:2px; right:2px; background:rgba(255,255,255,0.8); border:none; border-radius:50%; width:20px; height:20px; display:flex; align-items:center; justify-content:center; cursor:pointer; font-size:12px; }

.anexos-container{ display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-top:15px; }
.anexo-section{ border:2px dashed var(--border); border-radius:8px; padding:15px; text-align:center; cursor:pointer; }
.anexo-section:hover{ border-color:var(--primary); }
.anexo-section i{ font-size:2rem; color:var(--text-light); margin-bottom:10px; }
.anexo-section p{ margin-bottom:10px; color:var(--text-light); }

/* fichas */
.fichas-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }
.players-grid{ display:grid; grid-template-columns: repeat(auto-fill,minmax(300px,1fr)); gap:20px; }
.player-card{ background-color:var(--card-bg); border-radius:10px; box-shadow:var(--shadow); padding:20px; position:relative; }
.player-actions{ position:absolute; top:15px; right:15px; display:flex; gap:5px; }
.player-id{ font-size:0.9rem; color:var(--text-light); margin-bottom:10px; }
.player-name{ font-size:1.2rem; font-weight:600; margin-bottom:10px; color:var(--text); }
.player-behavior{ font-size:0.9rem; margin-bottom:15px; color:var(--text-light); }
.player-stats{ display:flex; gap:15px; }
.stat-badge{ display:flex; flex-direction:column; align-items:center; justify-content:center; padding:10px; border-radius:8px; background-color: rgba(26,115,232,0.06); min-width:70px; }
.stat-badge-value{ font-size:1.5rem; font-weight:700; color:var(--primary); }
.stat-badge-label{ font-size:0.7rem; color:var(--text-light); }

/* modal */
.modal{ display:none; position:fixed; top:0; left:0; width:100%; height:100%; background-color:rgba(0,0,0,0.5); z-index:1000; justify-content:center; align-items:center; }
.modal-content{ background-color:var(--card-bg); border-radius:10px; width:100%; max-width:900px; max-height:90vh; overflow-y:auto; box-shadow:var(--shadow); }
.modal-header{ padding:20px; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center; }
.modal-title{ font-size:1.4rem; font-weight:600; }
.modal-close{ background:none; border:none; font-size:1.5rem; cursor:pointer; color:var(--text-light); }
.modal-body{ padding:20px; }
.modal-footer{ padding:20px; border-top:1px solid var(--border); display:flex; justify-content:flex-end; gap:10px; }

.form-group{ margin-bottom:20px; }
.form-group label{ display:block; margin-bottom:8px; font-weight:500; }
.form-group input, .form-group textarea, .form-group select { width:100%; padding:10px 15px; border:1px solid var(--border); border-radius:6px; background-color:var(--card-bg); color:var(--text); font-size:1rem; }
.form-group textarea { min-height:100px; resize:vertical; }
.file-upload{ border:2px dashed var(--border); border-radius:8px; padding:20px; text-align:center; cursor:pointer; margin-bottom:15px; }
.file-upload:hover{ border-color:var(--primary); }

.tags-container{ display:flex; gap:10px; flex-wrap:wrap; margin-bottom:15px; }
.tag-item{ display:flex; align-items:center; gap:5px; padding:5px 10px; border-radius:20px; font-size:0.8rem; font-weight:500; cursor:pointer; }
.tag-color{ width:15px; height:15px; border-radius:50%; }

.denuncia-details{ margin-top:20px; }
.detail-item{ margin-bottom:15px; padding-bottom:15px; border-bottom:1px solid var(--border); }
.detail-label{ font-weight:600; margin-bottom:5px; color:var(--text); }
.detail-value{ color:var(--text-light); }

/* ESTILOS DA AGENDA */
.calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
.calendar-header h3 { font-size: 1.5rem; color: var(--text); }
.calendar-nav button { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--primary); }

.calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px; }
.calendar-day-name { text-align: center; font-weight: 600; color: var(--text-light); padding-bottom: 10px; }

.calendar-day {
    background-color: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 8px;
    min-height: 120px;
    padding: 8px;
    cursor: pointer;
    position: relative;
    display: flex;
    flex-direction: column;
}
.calendar-day:hover { border-color: var(--primary); box-shadow: var(--shadow); }
.calendar-day.other-month { background-color: var(--bg); color: var(--text-light); opacity: 0.7; }
.calendar-day.today { border: 2px solid var(--primary); font-weight: bold; }
.day-number { font-size: 0.9rem; margin-bottom: 5px; }

.appointments-list { font-size: 0.8rem; flex-grow: 1; }
.appointment-item {
    background-color: var(--primary);
    color: white;
    padding: 3px 6px;
    border-radius: 4px;
    margin-bottom: 4px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.appointment-actions { display: none; gap: 5px; }
.appointment-item:hover .appointment-actions { display: flex; }
.appointment-actions button { background: rgba(255,255,255,0.2); border: none; color: white; cursor: pointer; border-radius: 3px; padding: 2px 4px;}


/* ESTILOS DAS CONFIGURAÇÕES */
#customThemeContainer { display: none; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border); }
.color-picker-group { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
.color-picker-item { display: flex; flex-direction: column; }
.color-picker-item label { margin-bottom: 8px; font-weight: 500; }
.color-picker-item input[type="color"] { width: 100%; height: 40px; border: 1px solid var(--border); border-radius: 6px; cursor: pointer; }

.backup-section { margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border); display: flex; gap: 15px; }

@media (max-width:768px){
    .dashboard-grid{ grid-template-columns:1fr; }
    .stat-grid{ grid-template-columns:1fr; }
    .board-header{ flex-direction:column; align-items:flex-start; gap:10px; }
    .fichas-header{ flex-direction:column; align-items:flex-start; gap:10px; }
    .anexos-container{ grid-template-columns:1fr; }
    .calendar-day { min-height: 80px; }
    .appointment-item { font-size: 0.7rem; }
    .backup-section { flex-direction: column; }
}


/* PATCH START: BG Quadro de Denúncias */
#quadro-denuncias, #denuncias, .board, #denunciasBoard {
    background-image: var(--denuncias-bg);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}
/* PATCH END */

/* PATCH START: expandir quadro denuncias e ajustar scroll */
.board {
    min-height: 500px;            /* expandido */
    align-items: flex-start;      /* colunas no topo */
    overflow-y: hidden;           /* scroll só horizontal */
}
#denuncias {
    overflow-y: auto;             /* scroll mais embaixo */
    padding-bottom: 40px;         /* espaço p/ barra de rolagem */
}
/* PATCH END */

/* INÍCIO: ESTILOS DO COMPROMISSO E TIMER */
.upcoming-appointment-item {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid var(--border);
    font-size: 0.9rem;
}
.upcoming-appointment-item:last-child {
    border-bottom: none;
}
.appointment-date {
    font-weight: 600;
    color: var(--primary);
}

.toggle-switch-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px;
    border: 1px solid var(--border);
    border-radius: 8px;
}
.toggle-switch-label {
    margin-bottom: 0;
    font-weight: 500;
}
.switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 28px;
}
.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}
.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--border);
    transition: .4s;
    border-radius: 28px;
}
.slider:before {
    position: absolute;
    content: "";
    height: 20px;
    width: 20px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}
input:checked + .slider {
    background-color: var(--primary);
}
input:checked + .slider:before {
    transform: translateX(22px);
}
/* FIM: ESTILOS DO COMPROMISSO E TIMER */

/* INÍCIO: ESTILOS DO SELETOR PERSONALIZADO */
.custom-select-container {
    position: relative;
    width: 100%;
}
.custom-select-container select {
    display: none; /* Esconde o seletor original */
}
.select-selected {
    background-color: var(--card-bg);
    color: var(--text);
    padding: 12px 16px;
    border: 1px solid var(--border);
    border-radius: 6px;
    cursor: pointer;
    position: relative;
    user-select: none;
}
.select-selected:after {
    position: absolute;
    content: "";
    top: 50%;
    right: 15px;
    width: 0;
    height: 0;
    margin-top: -3px;
    border: 6px solid transparent;
    border-color: var(--text-light) transparent transparent transparent;
    transition: all 0.2s ease;
}
.select-selected.select-arrow-active:after {
    transform: rotate(180deg);
    margin-top: -9px;
}
.select-items {
    position: absolute;
    background-color: var(--card-bg);
    top: 100%;
    left: 0;
    right: 0;
    z-index: 99;
    border: 1px solid var(--border);
    border-top: none;
    border-radius: 0 0 6px 6px;
    box-shadow: var(--shadow);
    max-height: 200px;
    overflow-y: auto;
}
.select-hide {
    display: none;
}
.select-items div {
    color: var(--text);
    padding: 12px 16px;
    cursor: pointer;
    border-bottom: 1px solid var(--border);
}
.select-items div:last-child {
    border-bottom: none;
}
.select-items div:hover, .same-as-selected {
    background-color: rgba(0, 0, 0, 0.05);
}
[data-theme="dark"] .select-items div:hover,
[data-theme="dark"] .same-as-selected {
    background-color: rgba(255, 255, 255, 0.08);
}
/* FIM: ESTILOS DO SELETOR PERSONALIZADO */